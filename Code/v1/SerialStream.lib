https://os.mbed.com/users/MultipleMonomials/code/SerialStream/#3736580f2dbeb8adf0607fcfd0f434b4faa08a03